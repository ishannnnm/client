{"ast":null,"code":"import _createForOfIteratorHelper from\"/Users/ishannnnnm/Desktop/portfolio app/client/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import _createClass from\"/Users/ishannnnnm/Desktop/portfolio app/client/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _classCallCheck from\"/Users/ishannnnnm/Desktop/portfolio app/client/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import{TOTAL_SCREENS}from\"./commonUtils\";import{Subject}from'rxjs';import{object}from\"prop-types\";var ScrollService=/*#__PURE__*/_createClass(function ScrollService(){var _this=this;_classCallCheck(this,ScrollService);this.scrollToHireMe=function(){var contactMeScreen=document.getElementById(\"ContactMe\");if(!contactMeScreen)return;contactMeScreen.scrollIntoView({behavior:\"smooth\"});};this.scrollToHome=function(){var homeScreen=document.getElementById(\"Home\");if(!homeScreen)return;homeScreen.scrollIntoView({behavior:\"smooth\"});};this.isElementInView=function(elem,type){var rec=elem.getBoundingClientRect();var elementTop=rec.top;var elementBottom=rec.Bottom;var partiallyVisible=elementTop<window.innerHeight&&elementBottom>=0;var completelyVisible=elementTop>=0&&elementBottom<=window.innerHeight;switch(type){case\"partial\":return partiallyVisible;case\"complete\":return completelyVisible;default:return false;}};this.checkCurrentScreenUnderViewport=function(event){if(!event||object.keys(event).length<1)return;var _iterator=_createForOfIteratorHelper(TOTAL_SCREENS),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var screen=_step.value;var screenFromDOM=document.getElementById(screen.screen_name);if(!screenFromDOM)continue;var fullyVisible=_this.isElementInView(screenFromDOM,\"complete\");var partiallyVisible=_this.isElementInView(screenFromDOM,\"partial\");if(fullyVisible||partiallyVisible){if(partiallyVisible&&!screen.alreadyRendered){ScrollService.currentScreenFadeIn.next({fadeInScreen:screen.screen_name});screen['alreadyRendered']=true;break;}if(fullyVisible){ScrollService.currentScreenBroadCaster.next({screenInView:screen.screen_name});break;}}}}catch(err){_iterator.e(err);}finally{_iterator.f();}};window.addEventListener('scroll',this.checkCurrentScreenUnderViewport);});ScrollService.scrollHandler=new ScrollService();ScrollService.currentScreenBroadCaster=new Subject();ScrollService.currentScreenFadeIn=new Subject();export{ScrollService as default};","map":{"version":3,"sources":["/Users/ishannnnnm/Desktop/portfolio app/client/src/utilities/ScrollService.js"],"names":["TOTAL_SCREENS","Subject","object","ScrollService","scrollToHireMe","contactMeScreen","document","getElementById","scrollIntoView","behavior","scrollToHome","homeScreen","isElementInView","elem","type","rec","getBoundingClientRect","elementTop","top","elementBottom","Bottom","partiallyVisible","window","innerHeight","completelyVisible","checkCurrentScreenUnderViewport","event","keys","length","screen","screenFromDOM","screen_name","fullyVisible","alreadyRendered","currentScreenFadeIn","next","fadeInScreen","currentScreenBroadCaster","screenInView","addEventListener","scrollHandler"],"mappings":"kaAAA,OAASA,aAAT,KAA8B,eAA9B,CAEA,OAAQC,OAAR,KAAsB,MAAtB,CACA,OAASC,MAAT,KAAuB,YAAvB,C,GAEqBC,CAAAA,a,2BAOjB,wBAAa,yDAGbC,cAHa,CAGE,UAAI,CACf,GAAIC,CAAAA,eAAe,CAAGC,QAAQ,CAACC,cAAT,CAAwB,WAAxB,CAAtB,CACA,GAAG,CAACF,eAAJ,CAAqB,OACrBA,eAAe,CAACG,cAAhB,CAA+B,CAACC,QAAQ,CAAE,QAAX,CAA/B,EACH,CAPY,MAQbC,YARa,CAQA,UAAI,CACb,GAAIC,CAAAA,UAAU,CAAGL,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAAjB,CACA,GAAG,CAACI,UAAJ,CAAgB,OAChBA,UAAU,CAACH,cAAX,CAA0B,CAACC,QAAQ,CAAE,QAAX,CAA1B,EACH,CAZY,MAabG,eAba,CAaK,SAACC,IAAD,CAAOC,IAAP,CAAc,CAC5B,GAAIC,CAAAA,GAAG,CAAGF,IAAI,CAACG,qBAAL,EAAV,CACA,GAAIC,CAAAA,UAAU,CAAGF,GAAG,CAACG,GAArB,CACA,GAAIC,CAAAA,aAAa,CAAGJ,GAAG,CAACK,MAAxB,CAEA,GAAIC,CAAAA,gBAAgB,CAAGJ,UAAU,CAACK,MAAM,CAACC,WAAlB,EAAiCJ,aAAa,EAAE,CAAvE,CACA,GAAIK,CAAAA,iBAAiB,CAAGP,UAAU,EAAI,CAAd,EAAkBE,aAAa,EAAIG,MAAM,CAACC,WAAlE,CAEA,OAAOT,IAAP,EACI,IAAK,SAAL,CACA,MAAOO,CAAAA,gBAAP,CAEA,IAAK,UAAL,CACI,MAAOG,CAAAA,iBAAP,CAEA,QACI,MAAO,MAAP,CARZ,CAWH,CAhCY,MAkCbC,+BAlCa,CAkCqB,SAACC,KAAD,CAAS,CACvC,GAAG,CAACA,KAAD,EAAUxB,MAAM,CAACyB,IAAP,CAAYD,KAAZ,EAAmBE,MAAnB,CAA2B,CAAxC,CACA,OAFuC,yCAGrB5B,aAHqB,YAGvC,+CAAgC,IAAxB6B,CAAAA,MAAwB,aAC5B,GAAIC,CAAAA,aAAa,CAAGxB,QAAQ,CAACC,cAAT,CAAwBsB,MAAM,CAACE,WAA/B,CAApB,CACA,GAAG,CAACD,aAAJ,CACA,SAEA,GAAIE,CAAAA,YAAY,CAAG,KAAI,CAACpB,eAAL,CAAqBkB,aAArB,CAAoC,UAApC,CAAnB,CACA,GAAIT,CAAAA,gBAAgB,CAAG,KAAI,CAACT,eAAL,CAAqBkB,aAArB,CAAmC,SAAnC,CAAvB,CAEA,GAAGE,YAAY,EAAIX,gBAAnB,CAAoC,CAChC,GAAGA,gBAAgB,EAAI,CAACQ,MAAM,CAACI,eAA/B,CAA+C,CAC3C9B,aAAa,CAAC+B,mBAAd,CAAkCC,IAAlC,CAAuC,CACnCC,YAAY,CAAGP,MAAM,CAACE,WADa,CAAvC,EAGAF,MAAM,CAAC,iBAAD,CAAN,CAA0B,IAA1B,CACA,MACH,CACD,GAAGG,YAAH,CAAgB,CACZ7B,aAAa,CAACkC,wBAAd,CAAuCF,IAAvC,CAA4C,CACxCG,YAAY,CAAGT,MAAM,CAACE,WADkB,CAA5C,EAGA,MAEH,CACJ,CACJ,CA3BsC,qDA4B1C,CA9DY,CACTT,MAAM,CAACiB,gBAAP,CAAwB,QAAxB,CAAkC,KAAKd,+BAAvC,EACH,C,EATgBtB,a,CAEVqC,a,CAAgB,GAAIrC,CAAAA,aAAJ,E,CAFNA,a,CAIVkC,wB,CAA2B,GAAIpC,CAAAA,OAAJ,E,CAJjBE,a,CAKV+B,mB,CAAsB,GAAIjC,CAAAA,OAAJ,E,QALZE,a","sourcesContent":["import { TOTAL_SCREENS } from \"./commonUtils\";\n\nimport {Subject} from 'rxjs';\nimport { object } from \"prop-types\";\n\nexport default class ScrollService {\n\n    static scrollHandler = new ScrollService();\n\n    static currentScreenBroadCaster = new Subject();\n    static currentScreenFadeIn = new Subject();\n\n    constructor(){\n        window.addEventListener('scroll', this.checkCurrentScreenUnderViewport);\n    }\n    scrollToHireMe=()=>{\n        let contactMeScreen = document.getElementById(\"ContactMe\")\n        if(!contactMeScreen) return;\n        contactMeScreen.scrollIntoView({behavior: \"smooth\"})\n    }\n    scrollToHome=()=>{\n        let homeScreen = document.getElementById(\"Home\")\n        if(!homeScreen) return;\n        homeScreen.scrollIntoView({behavior: \"smooth\"})\n    }\n    isElementInView = (elem, type)=>{\n        let rec = elem.getBoundingClientRect();\n        let elementTop = rec.top;\n        let elementBottom = rec.Bottom;\n\n        let partiallyVisible = elementTop<window.innerHeight && elementBottom>=0;\n        let completelyVisible = elementTop >= 0&& elementBottom <= window.innerHeight;\n\n        switch(type){\n            case \"partial\":\n            return partiallyVisible;\n\n            case \"complete\":\n                return completelyVisible;\n\n                default:\n                    return false;\n        \n        }\n    }\n\n    checkCurrentScreenUnderViewport = (event)=>{\n        if(!event || object.keys(event).length <1)\n        return;\n        for(let screen of TOTAL_SCREENS){\n            let screenFromDOM = document.getElementById(screen.screen_name);\n            if(!screenFromDOM)\n            continue;\n\n            let fullyVisible = this.isElementInView(screenFromDOM, \"complete\");\n            let partiallyVisible = this.isElementInView(screenFromDOM,\"partial\")\n\n            if(fullyVisible || partiallyVisible){\n                if(partiallyVisible && !screen.alreadyRendered){\n                    ScrollService.currentScreenFadeIn.next({\n                        fadeInScreen : screen.screen_name,\n                    });\n                    screen['alreadyRendered']=true;\n                    break;\n                }\n                if(fullyVisible){\n                    ScrollService.currentScreenBroadCaster.next({\n                        screenInView : screen.screen_name,\n                    });\n                    break;\n\n                }\n            }\n        }\n    };\n}"]},"metadata":{},"sourceType":"module"}